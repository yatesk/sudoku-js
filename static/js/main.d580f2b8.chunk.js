(this["webpackJsonpsudoku-js"]=this["webpackJsonpsudoku-js"]||[]).push([[0],{14:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n(1),a=n(8),r=n.n(a),s=n(3),l=n(2);var d=function(e,t,n,c,a,r){return Object(i.jsx)("div",{style:r?{marginRight:"5px",pointerEvents:"none",opacity:"0.4"}:{marginRight:"5px"},children:Object(i.jsxs)("div",{className:c?"cellNumberRevealed":"cellNumber",onContextMenu:function(e){e.preventDefault()},onMouseDown:function(t){t.preventDefault(),!1===c&&1===t.button&&n(e,0)},children:[t,Object(i.jsx)("div",{className:a?"invalidCellNumber":""})]})})};var u=function(e,t,n,c,a,r,s,l){function d(){return a&&1===n.length}function u(t){return r&&s[e].includes(t)}return Object(i.jsxs)("div",{style:l?{marginRight:"5px",pointerEvents:"none",opacity:"0.4"}:{marginRight:"5px"},className:"cell",onClick:function(n){t(e,parseInt(n.target.id))},onContextMenu:function(t){t.preventDefault(),c(e,parseInt(t.target.id))},onMouseDown:function(e){e.preventDefault()},children:[n.includes(1)?Object(i.jsx)("div",{id:"1",className:"candidateCell ".concat(d()||u(1)?"redText":"blackText"),children:"1"}):Object(i.jsx)("div",{id:"1",className:"candidateCell"}),n.includes(2)?Object(i.jsx)("div",{id:"2",className:"candidateCell ".concat(d()||u(2)?"redText":"blackText"),children:"2"}):Object(i.jsx)("div",{id:"2",className:"candidateCell"}),n.includes(3)?Object(i.jsx)("div",{id:"3",className:"candidateCell ".concat(d()||u(3)?"redText":"blackText"),children:"3"}):Object(i.jsx)("div",{id:"3",className:"candidateCell"}),n.includes(4)?Object(i.jsx)("div",{id:"4",className:"candidateCell ".concat(d()||u(4)?"redText":"blackText"),children:"4"}):Object(i.jsx)("div",{id:"4",className:"candidateCell"}),n.includes(5)?Object(i.jsx)("div",{id:"5",className:"candidateCell ".concat(d()||u(5)?"redText":"blackText"),children:"5"}):Object(i.jsx)("div",{id:"5",className:"candidateCell"}),n.includes(6)?Object(i.jsx)("div",{id:"6",className:"candidateCell ".concat(d()||u(6)?"redText":"blackText"),children:"6"}):Object(i.jsx)("div",{id:"6",className:"candidateCell"}),n.includes(7)?Object(i.jsx)("div",{id:"7",className:"candidateCell ".concat(d()||u(7)?"redText":"blackText"),children:"7"}):Object(i.jsx)("div",{id:"7",className:"candidateCell"}),n.includes(8)?Object(i.jsx)("div",{id:"8",className:"candidateCell ".concat(d()||u(8)?"redText":"blackText"),children:"8"}):Object(i.jsx)("div",{id:"8",className:"candidateCell"}),n.includes(9)?Object(i.jsx)("div",{id:"9",className:"candidateCell ".concat(d()||u(9)?"redText":"blackText"),children:"9"}):Object(i.jsx)("div",{id:"9",className:"candidateCell"})]})};n(4);var o=function(e){var t=e.gridID,n=e.value,c=e.updateGrid,a=e.revealedCell,r=e.invalidCellNumber,s=e.candidates,l=e.updateCandidates,o=e.nakedSinglesToggle,j=e.hiddenSinglesToggle,f=e.hiddenSingles,b=e.isGamePaused;return Object(i.jsx)(i.Fragment,{children:0!==n?d(t,n,c,a,r,b):u(t,c,s,l,o,j,f,b)})};var j=function(e){var t=e.grid,n=e.setGrid,a=e.starterGrid,r=e.candidates,d=e.updateCandidates,u=e.nakedSinglesToggle,j=e.hiddenSinglesToggle,f=e.hiddenSingles,b=e.isGamePaused,v=Object(c.useState)([Array(81).fill(!1)]),h=Object(l.a)(v,2),O=h[0],g=h[1];function x(e,i){var c=Object(s.a)(t);c[e]=i,n(c)}return Object(c.useEffect)((function(){var e=function(){for(var e=[],n=0;n<81;n+=9)for(var i={},c=0+n;c<9+n;c++){var a=t[c];a>0&&(a in i?(e.push(i[a]),e.push(c)):i[a]=c)}for(var r=0;r<9;r++){i={};for(var s=0+r;s<81+r;s+=9)(a=t[s])>0&&(a in i?(e.push(i[a]),e.push(s)):i[a]=s)}for(var l=[0,3,6,27,30,33,54,57,60],d=0;d<9;d++){i={};for(var u=l[d],o=u;o<3+u;o++)for(var j=0;j<20;j+=9)(a=t[o+j])>0&&(a in i?(e.push(i[a]),e.push(o+j)):i[a]=o+j)}return e}();!function(e){for(var t=Array(81).fill(!1),n=0;n<e.length;n++)t[e[n]]=!0;g(t)}(e),function(e){for(var n=0,i=0;i<t.length;i++)0!==t[i]&&(n+=1);return 81===n&&0===e.length}(e)&&console.log("winner")}),[t]),Object(i.jsx)("div",{className:"gameBoardGrid",children:t.map((function(e,t){return Object(i.jsx)(o,{gridID:t,value:e,updateGrid:x,revealedCell:0!==a[t],invalidCellNumber:O[t],candidates:r[t],updateCandidates:d,nakedSinglesToggle:u,hiddenSinglesToggle:j,hiddenSingles:f,isGamePaused:b},t)}))})};var f=function(e){var t=e.pauseGameToggle,n=e.resetTimer,a=e.setResetTimer,r=Object(c.useState)(0),s=Object(l.a)(r,2),d=s[0],u=s[1];return Object(c.useEffect)((function(){!0===n&&(u(0),a(!1))}),[n]),Object(c.useEffect)((function(){var e=setTimeout((function(){t||u(d+1)}),1e3);return function(){return clearInterval(e)}})),Object(i.jsx)(i.Fragment,{children:function(e){var n="0:00";if(e>0){var i=e,c=Math.floor(i/3600);i%=3600;var a=Math.floor(i/60);i%=60;var r=Math.floor(i);n=c>0?c+":":"",a>0?(a<10&&(n+="0"),n+=a+":"):n+="0:",r>0?(r<10&&(n+="0"),n+=r):n+="00"}return t&&(n+=" (PAUSED)"),n}(d)})};function b(e){var t=e.showCandidatesToggle,n=e.setShowCandidatesToggle,c=e.hiddenSinglesToggle,a=e.setHiddenSinglesToggle,r=e.nakedSinglesToggle,s=e.setNakedSinglesToggle;return Object(i.jsxs)("div",{children:[Object(i.jsxs)("label",{children:[Object(i.jsx)("input",{type:"checkbox",checked:c,onChange:function(){a(!c)}}),"Show Hidden Singles"]}),Object(i.jsxs)("label",{children:[Object(i.jsx)("input",{type:"checkbox",checked:r,onChange:function(){s(!r)}}),"Show Naked Singles"]}),Object(i.jsxs)("label",{children:[Object(i.jsx)("input",{type:"checkbox",onChange:function(){n(!t)}}),"Show Candidates"]})]})}function v(){return Object(i.jsxs)("div",{className:"gridDisplay select",children:[Object(i.jsx)("label",{htmlFor:"puzzleSource",children:"Puzzle Source:"}),Object(i.jsxs)("select",{id:"puzzleSource",name:"puzzleSource",children:[Object(i.jsx)("option",{value:"nyTimes",children:"NY Times"}),Object(i.jsx)("option",{value:"qqWing",children:"QQ Wing"}),Object(i.jsx)("option",{value:"random",children:"Random"}),Object(i.jsx)("option",{value:"other",children:"Other"})]}),Object(i.jsx)("label",{htmlFor:"puzzleDifficulty",children:"Puzzle Difficulty:"}),Object(i.jsxs)("select",{id:"puzzleDifficulty",name:"puzzleDifficulty",children:[Object(i.jsx)("option",{value:"easy",children:"Easy"}),Object(i.jsx)("option",{value:"medium",children:"Medium"}),Object(i.jsx)("option",{value:"hard",children:"Hard"})]})]})}function h(e){var t=e.newGame,n=e.pauseGame,c=e.solvePuzzle,a=e.isGamePaused,r=e.resetPuzzle,s=e.resetTimer,l=e.setResetTimer;return Object(i.jsxs)("div",{className:"blocker",children:[Object(i.jsx)("div",{children:Object(i.jsx)("input",{type:"button",id:"newGameButton",value:"New Game",onClick:t})}),Object(i.jsx)("div",{children:Object(i.jsx)("input",{type:"button",id:"pauseGameButton",value:"Pause Game",onClick:n})}),Object(i.jsx)("div",{children:Object(i.jsx)(f,{isGamePaused:a,resetTimer:s,setResetTimer:l})}),Object(i.jsx)("div",{children:Object(i.jsx)("input",{type:"button",id:"resetPuzzleButton",value:"Reset Puzzle",onClick:r})}),Object(i.jsx)("div",{children:Object(i.jsx)("input",{type:"button",id:"solvePuzzleButton",value:"Solve Puzzle",onClick:c})})]})}var O=function(){var e=Object(c.useState)(1),t=Object(l.a)(e,2),n=t[0],a=(t[1],Object(c.useState)(!1)),r=Object(l.a)(a,2),d=r[0],u=r[1],o=Object(c.useState)(!1),f=Object(l.a)(o,2),O=f[0],g=f[1],x=Object(c.useState)(!1),p=Object(l.a)(x,2),m=p[0],T=p[1],S=Object(c.useState)(!1),C=Object(l.a)(S,2),k=C[0],z=C[1],N=Object(c.useState)(!1),y=Object(l.a)(N,2),G=y[0],w=y[1],P=Object(c.useState)(!1),D=Object(l.a)(P,2),M=D[0],E=D[1],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A=Object(c.useState)(R),B=Object(l.a)(A,2),I=B[0],F=B[1],H=Object(c.useState)(Array(81).fill([])),q=Object(l.a)(H,2),J=q[0],Q=q[1],W=Object(c.useState)(Array(81).fill([])),U=Object(l.a)(W,2),Y=U[0],K=U[1];function L(e){for(var t=0,n=[];t<e.length;t++)-1===e.indexOf(e[t],e.indexOf(e[t])+1)&&n.push(e[t]);return n}function V(e,t){if(t<3){if(e<3)return 0;if(e<6)return 1;if(e<9)return 2}else if(t<6){if(e<3)return 3;if(e<6)return 4;if(e<9)return 5}else if(t<9){if(e<3)return 6;if(e<6)return 7;if(e<9)return 8}}function X(e,t,n){for(var i=Math.floor(t/9),c=t%9,a=9*i;a<9*i+9;a++)if(e[a]===n)return!1;for(var r=c;r<81;r+=9)if(e[r]===n)return!1;for(var s=V(c,i),l=27*Math.floor(s/3)+s%3*3,d=0;d<3;d++)for(var u=0;u<3;u++)if(e[l+d+9*u]===n)return!1;return!0}function Z(e,t){if(81===t)return!0;if(I[t]>0)return Z(I,t+1);for(var n=1;n<=9;n++){if(X(I,t,n)&&(I[t]=n,Z(I,t+1)))return F(I),!0;I[t]=0}return!1}return Object(c.useEffect)((function(){if(!0===G){Object(s.a)(I);!0===Z(0,0)?(console.log("puzzle solved"),w(!1)):console.log("not solvable")}}),[G]),Object(c.useEffect)((function(){!0===O&&function(){for(var e=[],t=0;t<81;t+=9){for(var n=[],i=t;i<t+9;i++)n=n.concat(J[i]);e.push(L(n))}for(var c=[],a=0;a<9;a++){for(var r=[],s=a;s<81;s+=9)r=r.concat(J[s]);c.push(L(r))}for(var l=[0,3,6,27,30,33,54,57,60],d=[],u=0;u<9;u++){for(var o=l[u],j=[],f=o;f<3+o;f++)for(var b=0;b<20;b+=9)j=j.concat(J[b+f]);d.push(L(j))}for(var v=[],h=0;h<81;h++){for(var O=[],g=0;g<J[h].length;g++){var x=Math.floor(h/9),p=h%9,m=V(p,x);(e[x].includes(J[h][g])||c[p].includes(J[h][g])||d[m].includes(J[h][g]))&&O.push(J[h][g])}O.length>0?v.push(O):v.push([])}K(v)}()}),[J]),Object(c.useEffect)((function(){!function(){for(var e=[],t=0;t<81;t+=9){for(var n=[],i=0;i<9;i++)I[t+i]>0&&n.push(I[t+i]);e.push(n)}for(var c=[],a=0;a<9;a++){for(var r=[],s=0;s<81;s+=9)I[s+a]>0&&r.push(I[s+a]);c.push(r)}for(var l=[0,3,6,27,30,33,54,57,60],d=[],u=0;u<9;u++){for(var o=l[u],j=[],f=o;f<3+o;f++)for(var b=0;b<20;b+=9)I[b+f]>0&&j.push(I[b+f]);d.push(j)}for(var v=[1,2,3,4,5,6,7,8,9],h=Array(81).fill([]),O=0;O<I.length;O++)0===I[O]?function(){var t=Math.floor(O/9),n=O%9,i=V(n,t),a=e[t].concat(c[n],d[i]),r=v.filter((function(e){return!a.includes(e)}));h[O]=r}():h[O]=[I[O]];Q(h)}(),!1===k&&(g(!1),T(!1),Q(Array(81).fill([])))}),[O,m,k,I]),Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Sudoku"}),Object(i.jsxs)("div",{className:"gridDisplay",children:[Object(i.jsx)(j,{grid:I,setGrid:F,starterGrid:R,candidates:J,updateCandidates:function(e,t){var n=Object(s.a)(J),i=n[e].indexOf(t);-1===i?n[e]=[].concat(Object(s.a)(n[e]),[t]):n[e].splice(i,1),Q(n)},nakedSinglesToggle:m,hiddenSinglesToggle:O,hiddenSingles:Y,isGamePaused:M},n),Object(i.jsxs)("div",{children:[Object(i.jsx)(v,{}),Object(i.jsx)(h,{newGame:function(){fetch("https://cors-anywhere.herokuapp.com/https://www.nytimes.com/puzzles/sudoku/medium").then((function(e){return e.text()})).then((function(e){return console.log(e),e})).catch((function(e){console.log(e.statusText)}))},pauseGame:function(){E(!M)},solvePuzzle:function(){w(!0)},isGamePaused:M,resetPuzzle:function(){F(R),Q(Array(81).fill([])),K(Array(81).fill([])),u(!0)},resetTimer:d,setResetTimer:u})]}),Object(i.jsx)(b,{showCandidatesToggle:k,setShowCandidatesToggle:z,hiddenSinglesToggle:O,setHiddenSinglesToggle:g,nakedSinglesToggle:m,setNakedSinglesToggle:T})]})]})},g=document.getElementById("container");function x(){return Object(i.jsx)("div",{children:Object(i.jsx)(O,{})})}r.a.render(Object(i.jsx)(x,{}),g)},4:function(e,t,n){}},[[14,1,2]]]);
//# sourceMappingURL=main.d580f2b8.chunk.js.map